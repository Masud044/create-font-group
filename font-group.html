<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Font Groups</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100 p-6 flex flex-col items-center">

    <!-- Upload Font Section -->
    <div class="max-w-xl w-full bg-white p-6 shadow-md rounded-lg mb-6">
        <h2 class="text-lg font-semibold mb-2">Upload Font</h2>
        <div class="border-2 border-dashed border-gray-400 w-full h-32 flex flex-col items-center justify-center bg-gray-50 cursor-pointer p-4 text-center hover:border-black"
             id="uploadBox" onclick="document.getElementById('fileInput').click()">
            <p class="text-gray-600">Click to upload or drag and drop</p>
            <small class="text-gray-500">Only TTF File Allowed</small>
            <input type="file" id="fileInput" accept=".ttf" class="hidden">
        </div>
    </div>

    <!-- Uploaded Fonts List -->
    <div class="max-w-xl w-full bg-white p-6 shadow-md rounded-lg mb-6">
        <h2 class="text-lg font-semibold mb-2">Uploaded Fonts</h2>
        <table class="w-full border-collapse border border-gray-300">
            <thead>
                <tr class="bg-gray-200">
                    <th class="border border-gray-300 p-2">FONT NAME</th>
                    <th class="border border-gray-300 p-2">PREVIEW</th>
                    <th class="border border-gray-300 p-2">ACTION</th>
                </tr>
            </thead>
            <tbody id="fontList">
                <!-- Uploaded fonts will be added here -->
            </tbody>
        </table>
    </div>

    <!-- Create Font Group Section -->
    <div class="max-w-2xl w-full bg-white p-6 shadow-md rounded-lg mb-6">
        <h2 class="text-lg font-semibold mb-2">Create Font Group</h2>
        <p class="text-sm text-gray-500 mb-4">You must select at least two fonts.</p>

        <input type="text" id="groupTitle" placeholder="Group Title" class="border p-2 w-full mb-2">

        <div id="fontGroupContainer">
            <div class="flex gap-2 mb-2">
                <input type="text" placeholder="Font Name" class="border p-2 flex-1">
                <select class="border p-2 flex-1">
                    <option>Select a Font</option>
                </select>
                <button class="text-red-500" onclick="removeRow(this)">✖</button>
            </div>
        </div>

        <button onclick="addRow()" class="bg-green-500 text-white px-4 py-2 rounded mt-2">+ Add Row</button>
        <button onclick="createGroup()" class="bg-blue-500 text-white px-4 py-2 rounded mt-2">Create</button>
    </div>

    <!-- List of Font Groups -->
    <div class="max-w-2xl w-full bg-white p-6 shadow-md rounded-lg">
        <h2 class="text-lg font-semibold mb-2">Our Font Groups</h2>
        <table class="w-full border-collapse border border-gray-300">
            <thead>
                <tr class="bg-gray-200">
                    <th class="border border-gray-300 p-2">NAME</th>
                    <th class="border border-gray-300 p-2">FONTS</th>
                    <th class="border border-gray-300 p-2">COUNT</th>
                    <th class="border border-gray-300 p-2">ACTION</th>
                </tr>
            </thead>
            <tbody id="fontGroups">
                <!-- Font groups will be added here -->
            </tbody>
        </table>
    </div>

    <script>
        let fonts = [];
        let fontGroups = [];

        // Upload Font
        document.getElementById("fileInput").addEventListener("change", function(event) {
            const file = event.target.files[0];
            if (file && file.name.endsWith(".ttf")) {
                fonts.push(file.name);
                updateFontList();
            } else {
                alert("Only TTF files are allowed.");
            }
        });

        function updateFontList() {
            const fontList = document.getElementById("fontList");
            fontList.innerHTML = "";
            fonts.forEach((font, index) => {
                const row = document.createElement("tr");
                row.innerHTML = `
                    <td class="border border-gray-300 p-2">${font}</td>
                    <td class="border border-gray-300 p-2" style="font-family: ${font};">Example</td>
                    <td class="border border-gray-300 p-2 text-red-500 cursor-pointer" onclick="removeFont(${index})">Delete</td>
                `;
                fontList.appendChild(row);
            });
        }

        function removeFont(index) {
            fonts.splice(index, 1);
            updateFontList();
        }

        // Create Font Group
        function addRow() {
            const container = document.getElementById("fontGroupContainer");
            const row = document.createElement("div");
            row.className = "flex gap-2 mb-2";
            row.innerHTML = `
                <input type="text" placeholder="Font Name" class="border p-2 flex-1">
                <select class="border p-2 flex-1">
                    <option>Select a Font</option>
                    ${fonts.map(font => `<option>${font}</option>`).join("")}
                </select>
                <button class="text-red-500" onclick="removeRow(this)">✖</button>
            `;
            container.appendChild(row);
        }

        function removeRow(button) {
            button.parentElement.remove();
        }

        function createGroup() {
            const title = document.getElementById("groupTitle").value;
            const rows = document.querySelectorAll("#fontGroupContainer div");
            if (rows.length < 2) {
                alert("You must select at least two fonts.");
                return;
            }

            const selectedFonts = [];
            rows.forEach(row => {
                const select = row.querySelector("select");
                if (select.value !== "Select a Font") {
                    selectedFonts.push(select.value);
                }
            });

            if (selectedFonts.length < 2) {
                alert("You must select at least two fonts.");
                return;
            }

            fontGroups.push({ id: Date.now(), name: title, fonts: selectedFonts });
            renderFontGroups();
        }

        function renderFontGroups() {
            const table = document.getElementById("fontGroups");
            table.innerHTML = "";
            fontGroups.forEach(group => {
                const row = document.createElement("tr");
                row.innerHTML = `
                    <td class="border border-gray-300 p-2 font-semibold cursor-pointer text-blue-600" contenteditable="true" onblur="editGroup(${group.id}, this.innerText)">${group.name}</td>
                    <td class="border border-gray-300 p-2">${group.fonts.join(", ")}</td>
                    <td class="border border-gray-300 p-2">${group.fonts.length}</td>
                    <td class="border border-gray-300 p-2">
                        <button class="text-red-500" onclick="deleteGroup(${group.id})">Delete</button>
                    </td>
                `;
                table.appendChild(row);
            });
        }

        function editGroup(id, newName) {
            const group = fontGroups.find(g => g.id === id);
            if (group) group.name = newName;
        }

        function deleteGroup(id) {
            fontGroups = fontGroups.filter(g => g.id !== id);
            renderFontGroups();
        }
    </script>
</body>
</html>
